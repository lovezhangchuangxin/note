# hust 计网习题

## 1. 第一次作业

### p13

a. 假定有 N 个分组同时到达一条当前没有分组传输或排队的链路。每个分组长为 L，链路传输速率为 R。对 N 个分组而言，其平均排队时延是多少？

b. 现在假定每隔 LN/R 秒有 N 个分组同时到达链路。一个分组的平均排队时延是多少？

**解：**

a. 易知第一个分组没有排队时延，第二个分组排队时延为 L/R，第三个分组排队时延为 2L/R，以此类推。

总排队时延为 `total = (L/R + 2L/R + ...... + (N-1)L/R)`

所以平均排队时延为： `ave = total/N = (N-1)L/2R`

b. LN/R 的时间刚好可以让 N 个分组传输走，因此每 N 个分组之间互不影响，平均排队时延依然是 `total/N = (N-1)L/2R`

### p25

假定两台主机 A 和 B 相隔 20000km，由一条直接的 R=2Mbps 的链路相连。假定跨越该链路的传播速率是 2.5×10<sup>8</sup>m/s

- a. 计算带宽-时延积 R·t<sub>prop</sub>。
- b. 考虑从主机 A 到主机 B 发送一个 800000 比特的文件。假定该文件作为一个大的报文连续发送。在任何给定的时间，在链路上具有的比特数量最大值是多少？
- c. 给出带宽-时延积的一种解释。
- d. 在该链路上一个比特的宽度（以米计）是多少？它比一个足球场更长吗？
- e. 根据传播速率 s、带宽 R 和链路 m 的长度，推导出一个比特宽度的一般表示式

**解：**

a. R·t<sub>prop</sub> = 2Mbps x 20000km/(2.5 x 108)m/s = 160000b。

b. 因为带宽-时延积就是任一时间链路上可能具有的比特最大数量。所以最大值即为 R·t<sub>prop</sub>和文件大小中最小的那个，也即 160000。

c. 带宽-时延积就是任一时间链路上可能具有的比特最大数量。

d. 该链路上充满比特时比特数量是 160000，而链路长度是 20000km，所以一个比特相当于 125 米宽，近似足球场长度。

e. R·t<sub>prop</sub> = Rm/s。
宽度 width = m/Rt<sub>prop</sub> = s/R

### p31

在包括因特网的现代分组交换网中，源主机将长应用层报文（如一个图像或音乐文件）分段为较小的分组并向网络发送。接收方则将这些分组重新装配为初始报文。我们称这个过程为报文分段。图 1-27 显示了一个报文在报文不分段或报文分段情况下的端到端传输。考虑一个长度为 8×10<sup>6</sup> 比特的报文，它在图 1-27 中从源发送到目的地。假定在该图中的每段链路是 2Mbps。忽略传播、排队和处理时延

- a. 考虑从源到目的地发送该报文且没有报文分段。从源主机到第一台分组交换机移动报文需要多长时间？记住，每台交换机均使用存储转发分组交换，从源主机移动该报文到目的主机需要多长时间？
- b. 现在假定该报文被分段为 800 个分组，每个分组 10000 比特长。从源主机移动第一个分组到第一台交换机需要多长时间？从第一台交换机发送第一个分组到第二台交换机，从源主机发送第二个分组到第一台交换机各需要多长时间？什么时候第二个分组能被第一台交换机全部收到？
- c. 当进行报文分段时，从源主机向目的主机移动该文件需要多长时间？将该结果与(a)的答案进行比较并解释之。
- d. 除了减小时延外，使用报文分段还有什么原因？
- e. 讨论报文分段的缺点。

**解：**

a. 从源主机到第一台分组交换机移动报文需要： 8×10<sup>6</sup> / 2Mbps = 4s。
从源主机移动该报文到目的主机需要：`4×3 = 12s`。

b. 从源主机移动第一个分组到第一台交换机需要：`10000 / 2Mbps = 5ms`。
从第一台交换机发送第一个分组到第二台交换机，从源主机发送第二个分组到第一台交换机都需要： 5ms。
第 10ms 时第二个分组能被第一台交换机全部收到。

c. 最后一个分组到达的时间即为分组到达总时间，总共 800 个分组，因此最后一个分组需要等待 799×5ms = 3.995s 之后才能转发，转发后需要 3×5ms = 15ms 到达，因此总共耗时 3.995s + 15ms = 4.01s，远小于 a 中的 12s，这是因为分组交换机必须把一个分组完全接受后才能转发这个分组，如果这个分组非常大，那么等待的时间就会很长，而分成很多小分组的话，就可以先把收到的小分组转发出去，这样就减少了等待时间。

d.

- 减少分组交换机处理分组的压力。
- 减小分组出错重传的压力，分组出错时只用重传该分组即可，不需要重传整个大文件。

e.

- 不适合实时服务（例如，电话和视频会议），因为它的端到端时延是可变得和不可预测的。
- 分组和组装分组较为麻烦，同时层层协议为分组添加的额外信息会增加分组大小，耗费带宽。

<Vssue />
